var Omega=function(e,t){var n=e.Omega;if(!n||!n.loaded){var r,o,a,i,c,u,l,f,s,d,m={onJsError:function(){}},v="0.1.8",g=!1,h=[],p="OmegaSDK://",b="didi",y=/omega/,k=/^\s*|\s*$/g,E=[],T="OMGH5PageView",O="OMGH5CustomTiming",S="OMGH5Click",w="OMGH5Touch",N="omgh5sid",_="omgh5dbg",C="omgh5hmp",M="omgscfg",j="omgh5sdbg",x="omgh5smpl",I="omega-auto",L=1e3,P=/[?&]omg_no_track=1(?:\&|#|$)/.test(location.search),A="//omgup.xiaojukeji.com/api/webstat/x.gif",J="//omgup.xiaojukeji.com/api/webinfo",D={},H={},B=navigator.userAgent||navigator.vendor||e.opera,K=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,V=navigator.cookieEnabled?1:0,F=function(){try{return top.window===window}catch(e){return!1}}(),R=function(e){for(var n=t.cookie?t.cookie.split("; "):[],r=0,o=n.length;o>r;r++){var a=n[r].split("=");if(a[0]===e)return a[1]}},$=function(e,n,r){t.cookie=e+"="+n+(r?"; expires="+r:"")+"; path=/"},G=function(e){var t=new RegExp("[?&]"+e+"=([^&$]+)");return t.test(location.search)||t.test(location.hash.slice(1))?RegExp.$1:void 0},U=function(e){var t=R(M);try{if(t)return t=JSON.parse(t),e?t[e]:t}catch(n){}},W=function(e,t){var n=U();if(n||(n={}),fe(e,"String")){var r={};r[e]=t,e=r}for(var o in e)n[o]=e[o];try{$(M,JSON.stringify(n)),oe(n,ae)}catch(a){}},Y=function(){return(Math.random()+"").substr(2,12)+"-"+(new Date).getTime()},z=function(e){a=e+""},X=function(e){u=e+""},q=function(e){i=e+"",Me("username-received")},Q=function(e){c=e+"",Me("telephone-received")},Z=function(e){l=e},ee=function(e){f=e+""},te=Y(),ne=function(){var e=R(N);return e||$(N,e=te),e}(),re=function(){return G(ne)}(),oe=function(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(n){case"productName":a=e[n]+"";break;case"userName":i=e[n]+"";break;case"telephone":c=e[n]+"";break;case"pageTitle":u=e[n]+"";break;case"cityId":l=e[n];break;case"channel":f=e[n]+"";break;case"appVersion":s=e[n]+"";break;case"timeout":L=e[n];break;default:t[n]=e[n]}return t},ae=function(){var e={autoClick:!0,autoTouch:!1,autoError:!0,noTrack:!1,autoSendPageView:!0},t=U();return t&&oe(t,e),n&&n.constructor===Object&&(oe(n,e),n=null),e}(),ie=function(){return"undefined"!=typeof OmegaSDK},ce=function(){return B.indexOf(b)>=0&&y.test(B)}(),ue=function(e){return E.push(e),function(){for(var t=0,n=E.length;n>t;t++)if(E[t]===e)return E.splice(t,1)}},le=function(e){return Object.prototype.toString.call(e).match(/\[object\s+(\w+)\]/)[1]},fe=function(e,t){return le(e)===t},se=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!0)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0}(),de=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!0)}:e.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0}(),me=function(e,n){var r=n["class"];if(r){var o=e,a=[];if(r.constructor===Array)for(var i=0,c=r.length;c>i;i++)a.push(" "+r[i]+" ");else a.push(" "+r+" ");for(var c=a.length;o&&o!==t.body&&o!==t.documentElement;){for(var u=" "+o.className+" ",i=0;c>i;i++)if(u.indexOf(a[i])>-1)return o;o=o.parentNode}}var l=n.attr;if(l)for(var o=e;o&&o!==t.body&&o!==t.documentElement;)if(o.hasAttribute(l)){var f=o.getAttribute(l);if(!f)return o;try{var s=JSON.parse(f);return s.target=o,s}catch(d){return o}}else o=o.parentNode},ve=function(t){o&&(te=Y());var n={nt:1};if(t=t||{},e.performance&&e.performance.timing){var r=he();for(var a in r)t[a]=r[a]}je(Ce([T,t]),n)},ge=function(){try{for(var e=performance.getEntries(),t=0,n=e.length;n>t;t++){var r=e[t];if("script"==r.initiatorType&&r.name.indexOf("/omega.")>-1)return r}}catch(o){}},he=function(){var t=e.performance.timing,n={t_fb:t.responseStart-t.navigationStart,t_rq:t.responseEnd-t.requestStart,t_tcp:t.connectEnd-t.connectStart,t_dns:t.domainLookupEnd-t.domainLookupStart,t_pgrd:t.loadEventEnd-t.navigationStart,t_dmrd:t.domContentLoadedEventEnd-t.navigationStart,t_psdm:t.domComplete-t.domInteractive,t_di:t.domInteractive-t.domLoading,t_dcl:t.domContentLoadedEventEnd-t.domLoading,t_dc:t.domComplete-t.domLoading,t_ld:t.loadEventEnd-t.loadEventStart},r=e.performance.memory;if(r&&(n.m_used=r.usedJSHeapSize,n.m_total=r.totalJSHeapSize,n.m_limit=r.jsHeapSizeLimit),e.chrome&&e.chrome.loadTimes)try{var o=e.chrome.loadTimes();o&&(n.t_fp=1e3*o.firstPaintTime-e.performance.timing.navigationStart)}catch(a){}var i=ge();i&&(n.t_omgld=Math.round(i.duration));for(var c in H){var u=n.t_custom;u||(u=n.t_custom={}),u[c]=H[c]}try{u&&(n.t_custom=JSON.stringify(u))}catch(a){}return n},pe=function(){return F||!G(_)&&!R(j)?!1:($(j,"1"),!0)}(),be=function(){return F?!1:G(C)}(),ye=function(t,n,r,a,i){var c,u,l=a.ts;t!==T||o||(o=!0);var f="?e="+t;for(var s in a)f+="&"+s+"="+encodeURIComponent(a[s]);if(f+="&attrs="+encodeURIComponent(JSON.stringify(r)),pe)try{top.window.postMessage("omgh5:log:"+f,"*")}catch(d){}else{i&&setTimeout(function(){c||(u=!0,i(t,n,r,a,u))},L);var m=e["_t_ig"+l]=new Image;m.onload=function(){try{m.onload=m.onerror=m.onabort=null,delete e["_t_ig"+l]}finally{u||(c=!0,i&&i(t,n,r,a))}},m.onerror=m.onabort=function(){var e=+(m.getAttribute("count")||0);m.setAttribute("count",++e),4>e&&setTimeout(function(){m.src=A+f+"&_rt="+e},100)},m.src=A+f}},ke=function(e){for(var t=e.parentNode.children,n=0,r=t.length;r>n;n++)if(t[n]===e)return n},Ee=function(e){var t,n=[],r=e;try{for(;"BODY"!==r.nodeName;){var o=r.getAttribute("id")||r.getAttribute("name");if(o){n.unshift(o),t=1;break}n.unshift(ke(r)),r=r.parentNode}t||n.unshift("body")}catch(r){n.length=0}return n.length?n.join("->"):""},Te=function(t,n,r,o){var a,i={};n=n||e.event;var c=n.target||n.srcElement;if(r&&fe(r,"Object")){var u=me(c,r);if(u){if(fe(u,"Object")){if(t=u.e||t,a=u.l,u.attrs&&fe(u.attrs,"Object"))for(var l in u.attrs)i[l]=u.attrs[l];c=u.target}}else if(!o)return}else if(!o)return;Me(t,a||c.tagName,i,c,n,!0)},Oe=function(e){for(var t=arguments.length,n={eventId:e},r=1;t>r;r++){var o=arguments[r],a=le(o);switch(a){case"String":n.eventLabel=o;break;case"Object":n.attrs=o;break;case"Function":n.callback=o;break;case"Boolean":n.auto=o;break;case"MouseEvent":case"TouchEvent":n.event=o;break;case"Undefined":case"Null":break;default:n.target=o}}return n},Se=function(e,n,r){var o={v:location.href,r:t.referrer||"",c:V,ts:(new Date).getTime(),fp:1,p:te,jv:v,pt:u||t.title||""};return V&&(o.s=ne),n&&(o.l=n),a&&(o.pn=a),i&&(o.un=i),c&&(o.tel=c),l&&(o.ct=l),f&&(o.ch=f),s&&(o.av=s),re&&(o.rs=re),o},we=function(e){return e.replace(k,"")},Ne=function(e){try{var t=e.nodeName;if("INPUT"===t&&"button"===e.type)return e.value;if("SELECT"===t||"INPUT"===t||"TEXTAREA"===t){var n=[],r=e.previousSibling;r&&3==r.nodeType&&n.push(we(r.nodeValue)),e.placeholder&&n.push("placeholder="+e.placeholder),e.id&&n.push("id="+e.id),e.name&&n.push("name="+e.name),e.className&&n.push("class="+e.className);var o=e.nextSibling;return o&&3==o.nodeType&&n.push(we(o.nodeValue)),n.join(" ")}for(var a=e.childNodes,n=[],i=0,c=a.length;c>i;i++){var u=a[i];3==u.nodeType&&n.push(we(u.nodeValue))}return n.join(" ")}catch(l){}},_e=function(e,n,r){n=n||{},e.id&&(n.id=e.id),e.className&&(n["class"]=e.className),e.href&&(n.href=e.href),e.name&&(n.name=e.name);var o=Ne(e);if(o&&(o.length>50&&(o=o.substr(0,50)+"..."),n.text=o),e.getBoundingClientRect){var a=e.getBoundingClientRect();n.ex=Math.round(a.left),n.ey=Math.round(a.top),a.width&&(n.ew=Math.round(a.width)),a.height&&(n.eh=Math.round(a.height))}if(!n.eh&&e.offsetHeight&&(n.eh=e.offsetHeight),!n.ew&&e.offsetWidth&&(n.ew=e.offsetWidth),r){var i=t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0,c=t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,u=r.pageX||r.clientX+i,l=r.pageY||r.clientY+c;n.x=u,n.y=l}var a=Ee(e);return a&&(n.rn=a),n.h=t.documentElement.scrollHeight||t.body&&t.body.scrollHeight||0,n.w=t.documentElement.scrollWidth||t.body&&t.body.scrollWidth||0,n},Ce=function(e){e=Oe.apply(null,e);var t=e.eventId,n=e.eventLabel||"",r=e.attrs||{},o=e.target,a=e.event,i=e.callback;for(var c in ae)r.hasOwnProperty(c)||(r[c]=ae[c]);if(r=Le(t,r,o),o&&(t===S||t===w||e.auto)&&(r=_e(o,r,a),d))for(var c in d)r[c]=d[c]();return{eventId:t,callback:i,eventLabel:n,attrs:r,sys:Se(t,n,o)}},Me=function(){try{var e=Ce(arguments);je(e)}catch(t){}},je=function(t,n){if(!P){var r=t.eventId,o=t.eventLabel,a=t.callback,i=t.attrs,c=t.sys,u=JSON.stringify(n||{}),l=JSON.stringify(i),f=JSON.stringify(c);if("OMGH5JsError"===r&&m.onJsError(o,c,i),ie())if(OmegaSDK.trackEventEx)try{OmegaSDK.trackEventEx(r,o,l,f,u),a&&a(r,o,i,c)}catch(s){ye(r,o,i,c,a)}else if(OmegaSDK.trackEvent)try{OmegaSDK.trackEvent(r,o,l,f),a&&a(r,o,i,c)}catch(s){try{OmegaSDK.trackEvent(r,o,l),a&&a(r,o,i,c)}catch(s){ye(r,o,i,c,a)}}else ye(r,o,i,c,a);else if(ce){var d=p+"trackEvent?e="+r;d+="&attrs="+l,d+="&sys="+f,n&&(d+="&ex="+u),e.prompt(d),a&&a(r,o,i,c)}else ye(r,o,i,c,a)}},xe=function(e,t,n,r,o){var a={line:n,url:t};r&&(a.col=r),o&&o.stack&&(e=o.stack),Me("OMGH5JsError",e,a)},Ie=function(){if(!D.jserror){D.jserror=1;var t=e.onerror;e.onerror=function(n,r,o,a,i){xe(n,r,o,a,i),"function"==typeof t&&t.apply(e,arguments)}}},Le=function(e,t,n){t=t||{};for(var r=0,o=E.length;o>r;r++){var a=E[r].call(n,e,t,n);if(a&&fe(a,"Object"))for(var i in a)t[i]=a[i]}return oe(t,{})},Pe=function(){if(ie())try{return OmegaSDK.getInfo()}catch(e){}},Ae=function(e,n){try{var r=t.createElement("script");t.documentElement.appendChild(r);var o=He()+"_"+(""+Math.random()).substr(2,9);r.onload=function(e){return function(){t.documentElement.removeChild(r)}}(o),e&&fe(e,"Function")&&(m["__callback"+o]=function(){return function(t){e(JSON.parse(t)),delete m["__callback"+o]}}(o),r.src=J+"?callback=Omega.__callback"+o),r.onerror=function(e){return function(){n&&fe(n,"Function")&&n(),t.documentElement.removeChild(r),delete m["__callback"+e]}}(o)}catch(a){}},Je=function(e,t){var n;if(e&&fe(e,"Function")){if(r)return void e(r);Ae(function(t){e(r=t.clientid)},t)}else Promise&&Promise.all&&(n=new Promise(function(e,t){r?e(r):Ae(function(t){e(r=t.clientid)},t)}));return n},De=function(e,n,r,o){var a=D[e];a&&de(t,e,a),D[e]=function(e){Te(n,e,r,o)},se(t,e,D[e])},He=function(){if(e.performance&&e.performance.now)return function(){return parseInt(e.performance.now())};var t=Date.now();return e.performance&&e.performance.timing&&(t=e.performance.timing.navigationStart),function(){return Date.now()-t}}(),Be=function(t){e.performance&&performance.timing&&fe(t,"String")&&(H[""+t]=He())},Ke=function(e){De("click",S,e,1)},Ve=function(e){De("touchstart",w,e,1)},Fe=function(e){De("click",S,e)},Re=function(e){De("touchstart",w,e)},$e=function(e){var t=R(x);if(!t){var n=new Date;t=n.getTime(),n.setFullYear(n.getFullYear()+30),$(x,t,n.toGMTString())}return t%(1/e)===0},Ge=function(e,t,n,r,o){if(e&&"string"==typeof e&&"number"==typeof t){o=o||.1,r=r||{},r.ms=t;var a={nt:1};n&&(r.version=n),$e(o)&&je(Ce([O,e,r]),a)}},Ue=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();$e(t)&&Me.apply(null,e)};ae.autoClick&&(fe(ae.autoClick,"Object")?Ke(ae.autoClick):Ke()),ae.autoTouch&&(fe(ae.autoTouch,"Object")?Ve(ae.autoTouch):Ve()),ae.filterClick&&fe(ae.filterClick,"Object")&&Fe(ae.filterClick),ae.filterTouch&&fe(ae.filterTouch,"Object")&&Re(ae.filterTouch),ae.autoError&&Ie(),ae.noTrack&&(P=1);var We=ae.autoSendPageView;if(delete ae.autoClick,delete ae.autoTouch,delete ae.autoError,delete ae.debugMode,delete ae.autoSendPageView,delete ae.filterClick,delete ae.filterTouch,delete ae.noTrack,K)try{var Ye=new K(function(e){Xe(t.body)});se(e,"load",function(){var e={childList:!0,subtree:!0};Ye.observe(t.body,e)})}catch(ze){}var Xe=function(e){var t={},n=e.getElementsByTagName("*");n[n.length]=e;for(var r=0,o=n.length;o>r;r++){var a=n[r],i=a.nodeName;switch(i){case"INPUT":var c=a.type;!a.name||"text"!==c&&"hidden"!==c||(t[a.name]=function(e){return function(){return e.value}}(a));break;case"TEXTAREA":a.name&&(t[a.name]=function(e){return function(){return e.value}}(a))}if(a.hasAttribute(I)){var u=a.getAttribute(I);if(u){var l=u.split(":");t[l[0]]=function(e,t){return function(){return"text"===t?e.textContent||e.innerText:e.value}}(a,l[1])}else a.name&&(t[a.name]=function(e){return function(){return e.value}}(a))}}d=t};return se(e,"load",function(){for(g=!0;h.length;)setTimeout(h.pop(),10)}),pe&&!function(){var e,n,r;se(t,"mouseover",function(t){var o=t.target,a=Ee(o);e=o.style.border,o.style.border="2px solid #f00",n=o.title,o.title=a,r=setTimeout(function(){top.window.postMessage("omgh5:rncopy:"+a,"*")},1e3)}),se(t,"mouseout",function(t){var o=t.target;o.style.border=e,o.title=n,clearTimeout(r)})}(),be&&se(e,"message",function(e){try{e.data.replace(/^omgh5\:rnheat\:(.+)$/,function(e,n){var r=n.split("->"),o=r[0],a=t.body;"body"!==o&&(a=t.getElementById(o)),a||(a=t.getElementsByName(o)[0]);for(var i=1,c=r.length;c>i;i++)a=a.children[r[i]];a&&top.window.postMessage("omgh5:rninfo:"+JSON.stringify(_e(a)),"*")})}catch(e){}}),(pe||be)&&!function(){var n={};se(e,"message",function(r){try{r.data.replace(/^omgh5\:rnhover\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];if(i){var l=i.style.border;n[r]=l,i.style.border="2px solid #f00",setTimeout(function(){i.style.border=l},3e3)}}),r.data.replace(/^omgh5\:rnout\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];i&&(i.style.border=n[r])}),r.data.replace(/^omgh5\:go(\w+)$/,function(t,n){e.history[n]()})}catch(r){}})}(),We&&h.push(ve),m.trackEvent=Me,m.getAppSdkInfo=Pe,m.trackError=xe,m.addTrackHandler=ue,m.enableClickAutoTracker=Ke,m.enableTouchAutoTracker=Ve,m.enableClickFilterTracker=Fe,m.enableTouchFilterTracker=Re,m.setProduct=z,m.setUserName=q,m.setTelephone=Q,m.setPageTitle=X,m.setCityId=Z,m.setChannel=ee,m.sendPageView=ve,m.markTimePoint=Be,m.setSessionConfig=W,m.trackTiming=Ge,m.trackEventSample=Ue,m.sid=function(){return ne},m.getProduct=function(){return a},m.getClientId=Je,m.enableDebugMode=function(){},m.trackPerformance=function(){},m.bindEvent=se,m.getQuery=G,m.loaded=!0,m}}(window,document);