!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.shareSDK=n():e.shareSDK=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r={version:"0.0.4"};(0,o.initGlobalAPI)(r),n.default=r,e.exports=n.default},function(e,n,t){"use strict";function o(e){(0,r.initShare)(e),(0,i.exposeApi)(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.initGlobalAPI=o;var r=t(2),i=t(49)},function(e,n,t){"use strict";function o(e){e.setShare=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.noop;e&&!e.content&&(e.content="滴滴一下，美好出行"),v.isWechat?s(e,n):v.isAlipay?l(e,n):v.isMqq&&d(e,n)},e.invokeShare=function(e){v.isWechat||e&&"wechat"===e.platform?(e&&this.setShare(e),f()):v.isAlipay||e&&"alipay"===e.platform?(0,j.alipayReady)(function(n,t){n||p(t,e)}):v.isFacebook||"facebook"===e.platform?r(e):v.isTwitter||"twitter"===e.platform?u(e):"whatsapp"===e.platform?a(e):"messenger"===e.platform?i(e):"line"===e.platform&&c(e)}}function r(e){var n="https://www.facebook.com/dialog/share?",t={app_id:"683536831842219",href:e.url,redirect_uri:e.url,display:"popup"};h(n,t)}function i(e){var n="fb-messenger://share?",t={link:e.url};h(n,t)}function u(e){var n="https://twitter.com/intent/tweet?",t={url:e.url};h(n,t)}function a(e){var n="whatsapp://send?",t={text:e.url};h(n,t)}function c(e){var n="line://msg/text/",t=encodeURIComponent(e.url);h(n+t)}function s(e,n){(0,b.wechatReady)(function(t,o){if(t)n(t);else{o.showOptionMenu({});var r=[],i=[],u={weixin_timeline:{fn:"Timeline",menu:"timeline"},weixin_appmsg:{fn:"AppMessage",menu:"appMessage"},qq_appmsg:{fn:"QQ",menu:"qq"},qzone:{fn:"QZone",menu:"QZone"}};(0,w.each)(u,function(n,t){var u="menuItem:share:"+n.menu;if(e===!1)return void r.push(u);var a=(0,g.getShareConfig)(t,e,{icon:"imgUrl"});a===!1?r.push(u):(a.cancel=e.cancel||g.noop,a.success=function(n){e.success&&e.success({from:"weixin",to:t,status:"success",ret:n})},o["onMenuShare"+n.fn](a),i.push(u))}),r.length>0&&o.hideMenuItems({menuList:r}),i.length>0&&o.showMenuItems({menuList:i})}})}function f(){y()}function l(e,n){e.url||(e.url=window.location.href),(0,j.alipayReady)(function(t,o){return t&&n(t),o?(e===!1?o.call("setOptionMenu",{icon:"menu"}):o.call("setOptionMenu",{title:"分享",icon:"menu"}),O=e,o.call("showOptionMenu"),void document.addEventListener("optionMenu",function(){p(o,e)})):void n("加载支付宝框架错误!")})}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;O=n;var t=["ALPContact","ALPTimeLine","Weibo","DingTalkSession","SMS"],o={alipay_appmsg:"ALPContact",alipay_timeline:"ALPTimeLine",sina_weibo:"Weibo",ding_talk:"DingTalkSession",weixin_appmsg:"wx",qq_appmsg:"qq",sms:"sms"},r={};(0,w.each)(o,function(e,n){r[e]=n}),e.call("startShare",{onlySelectChannel:t},function(i){if(t.indexOf(i.channelName)!==-1){var u=r[i.channelName];if(u){var a=(0,g.getShareConfig)(u,n,{icon:"iconUrl",link:"url",desc:"content"});a.contentType="url",e.call("shareToChannel",{name:o[u],param:a},function(e){e.shareResult&&n.success&&n.success({from:"alipay",to:i.channelName,status:"success",ret:e})})}}})}function d(e,n){(0,M.mqqReady)(function(t,o){if(t)n(t);else{if(e===!1)return void o.ui.setTitleButtons({right:{hidden:!0}});var r=["qq_appmsg","qzone","weixin_appmsg","weixin_timeline"];o.ui.setOnShareHandler(function(n){var t=(0,g.getShareConfig)(r[n],e,{title:"title",link:"share_url",icon:"image_url",desc:"desc"});t.back=!0,t.share_type=n,o.ui.shareMessage(t,function(t){0===t.retCode?e.success&&e.success({from:"mqq",to:n,status:"success",ret:null}):e.cancel&&e.cancel({from:"mqq",to:n,status:"cancel",ret:null})})})}})}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e+(0,_.params)(n);window.location.href=t}function y(){var e=(0,x.createTagElement)("div",{id:"test"});e.style.display="block",e.style.position="absolute",e.style.top="0%",e.style.left="0%",e.style.width="100%",e.style.height="100%",e.style.background="black url(http://static.galileo.xiaojukeji.com/static/tms/shield/share-tip.png) no-repeat 56% 5%/80%",e.style.zIndex="200",e.style.opacity="0.7";var n=document.getElementsByTagName("body")[0];(0,x.appendAfter)(e,n),e.onclick=m,y=function(){e.style.display="block"}}function m(){this.style.display="none"}Object.defineProperty(n,"__esModule",{value:!0}),n.initShare=o;var v=t(3),w=t(4),g=t(5),_=t(6),x=t(7),b=t(8),j=t(47),M=t(48),O={}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=n.UA=window.navigator.userAgent,o=(n.isAndroid=/Android/i.test(t),n.isIOS=/iphone|ipad|ipod|ios/i.test(t),t.match(/AlipayClient\/([\d\.]+)/i)),r=(n.isAlipay=!!o,n.alipayVersion=o&&o[1],t.match(/MicroMessenger\/([\d\.]+)/i));n.isWechat=!!r,n.wechatVersion=r&&r[1],n.isMqq=/QQ\/([\d\.]+)/i.test(t),n.isFacebook=/FBAN\/FB/i.test(t),n.isMessenger=/FBAN\/Messenger/i.test(t),n.isTwitter=/Twitter/i.test(t)},function(e,n){"use strict";function t(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function o(e){return t(e,"Function")}function r(e){return t(e,"Object")}function i(e){return t(e,"Array")}function u(e,n,t){if(e&&o(n))if(t=t||e,i(e)){for(var u=0,a=e.length;u<a;u++)if(n.call(t,e[u],u,e)===!1)return}else if(r(e))for(var c in e)if(n.call(t,e[c],c,e)===!1)return}Object.defineProperty(n,"__esModule",{value:!0}),n.isFn=o,n.isObj=r,n.isArray=i,n.each=u},function(e,n,t){"use strict";function o(e,n){var t=document.createElement("script");t.type="text/javascript",t.async="async",t.onload=t.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(n(),t.onload=t.onreadystatechange=null)},t.onerror=function(){n(new Error("load error")),t.onerror=null},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}function r(e,n){var t=document.createElement("IFRAME");return t.scrolling="no",t.frameBorder=0,t.style.width="0",t.style.height="0",t.style.position="absolute",document.body.appendChild(t),t.onload=n.bind(t),t.src=e,t}function i(e,n){if(!e)throw new Error("[sdk] "+n)}function u(e,n,t){return e=a(e),t=a(t),n.indexOf("=")!==-1&&e===t||(n.indexOf(">")!==-1&&e>t||n.indexOf("<")!==-1&&e<t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(e=e.split(".");e.length<4;)e.push("00");var n=[];return e.forEach(function(e){e&&e.length>=2?n.push(e.substr(0,2)):e?(e*=1,n.push(e>=10?e:"0"+e)):n.push("00")}),parseInt(n.join(""),10)}function c(){}function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[e]===!1)return!1;var o={},r={},i=function(e,t){var o="";return(0,f.each)(l[t],function(t,r){if(n[e+t])return o=n[e+t],!1}),o};if((0,f.each)(l,function(n,u){var a=t[u]||u;r[u]=a,o[a]=i(e+"_",u)||i("",u)}),n.revertAppmsgTitle===!0&&("weixin_appmsg"===e||"qq_appmsg"===e)){var u=o[r.desc];o[r.desc]=o[r.title],o[r.title]=u}var a=function(e){return/^\/\//.test(e)&&(e=window.location.protocol+e),e};return o[r.link]=a(o[r.link]),o[r.icon]=a(o[r.icon]),o}Object.defineProperty(n,"__esModule",{value:!0}),n.loadScript=o,n.createIFrame=r,n.assert=i,n.compare=u,n.noop=c,n.getShareConfig=s;var f=t(4),l={title:["title"],link:["link","url"],icon:["icon","imgUrl"],desc:["desc","text","content"]}},function(e,n){"use strict";function t(e){function n(){if(200===t.status){var n=t.responseText;"json"===e.dataType&&(n=JSON.parse(n)),e.success&&e.success(n)}else e.error&&e.error(t.status,t.statusText)}var t=new window.XMLHttpRequest;return e.data=r(e.data),e.method||(e.method="get"),"get"!==e.method&&"jsonp"!==e.method||(e.url+=(e.url.indexOf("?")===-1?"?":"&")+e.data),e.cache!==!0&&(e.url+=(e.url.indexOf("?")===-1?"?":"&")+"_="+(new Date).getTime()),"jsonp"===e.method?void o(e):(e.async=e.async!==!1,e.async!==!1&&(t.onreadystatechange=function(){4===t.readyState&&n()}),t.open(e.method,e.url,e.async),"post"===e.method?(t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e.data)):t.send(null),void(e.async===!1&&n()))}function o(e){var n=e.url,t="__cb__"+i;n+="&callback="+t,window[t]=function(n){e.success&&e.success(n)};var o=document.createElement("script");o.type="text/javascript",o.async="async",o.onload=o.onreadystatechange=function(){if(!this.readyState||/^(loaded|complete)$/.test(this.readyState)){try{delete window[t]}catch(e){}o.onload=o.onreadystatechange=null}},o.onerror=function(){e.error&&e.error(0);try{delete window[t]}catch(e){}o.onerror=null},o.src=n,document.getElementsByTagName("head")[0].appendChild(o)}function r(e){var n=[];for(var t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}Object.defineProperty(n,"__esModule",{value:!0}),n.ajax=t,n.params=r;var i=0},function(e,n){"use strict";function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=document.createElement(e);return i(t,n)}function o(e,n){return e=a(e),"style"===n?e.style.cssText:e.getAttribute(n)}function r(e,n){return n.length>0?n[0].appendChild(e):n.appendChild(e),e}function i(e,n){e=a(e);for(var t in n)u(e,t,n[t]);return e}function u(e,n,t){return e=a(e),"style"===n?e.style.cssText=t:e.setAttribute(n,t),e}function a(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!==e.nodeType&&9!==e.nodeType?null:e:null}Object.defineProperty(n,"__esModule",{value:!0}),n.createTagElement=t,n.getAttr=o,n.appendAfter=r},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){if(y.isWechat){if(window.__initWechat__)return void u();window.__initWechat__=!0,a(function(e){e?i(e):c(function(e,n){if("success"===e){var t=window.wx,o=["login","getLocation","onMenuShareTimeline","onMenuShareAppMessage","hideOptionMenu","showMenuItems","hideMenuItems","onMenuShareQQ","onMenuShareQZone"],r=window._SDK_API_LIST_||[];t.config((0,p.default)({beta:!0,debug:!1},n.data,{jsApiList:o.concat(r)})),t.ready(function(){i(null),window.__wechatReady__=!0,w=!0})}else i(n)})})}}function i(e){v.forEach(function(n){n(e,window.wx)})}function u(){function e(){return window.__wechatReady__?(w=!0,void i()):void setTimeout(e,100)}e()}function a(e){void 0===window.wx?(0,d.loadScript)(m,e):e()}function c(e){var n=s(),t=n.url,o=n.method;(0,h.ajax)({url:t,method:o,dataType:"json",data:{url:window.location.href.replace(/#.*/,"")},success:function(n){e("success",n)},error:function(n,t){e("failed",t)}})}function s(){return{url:"//common.diditaxi.com.cn/general/webEntry/jsapiticket",method:"post"}}function f(e){w?e(null,window.wx):v.push(e)}Object.defineProperty(n,"__esModule",{value:!0});var l=t(9),p=o(l);n.wechatReady=f;var d=t(5),h=t(6),y=t(3),m="//res.wx.qq.com/open/js/jweixin-1.0.0.js",v=[],w=!1;r()},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=t(10),i=o(r);n.default=i.default||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}},function(e,n,t){e.exports={default:t(11),__esModule:!0}},function(e,n,t){t(12),e.exports=t(15).Object.assign},function(e,n,t){var o=t(13);o(o.S+o.F,"Object",{assign:t(28)})},function(e,n,t){var o=t(14),r=t(15),i=t(16),u=t(18),a="prototype",c=function(e,n,t){var s,f,l,p=e&c.F,d=e&c.G,h=e&c.S,y=e&c.P,m=e&c.B,v=e&c.W,w=d?r:r[n]||(r[n]={}),g=w[a],_=d?o:h?o[n]:(o[n]||{})[a];d&&(t=n);for(s in t)f=!p&&_&&void 0!==_[s],f&&s in w||(l=f?_[s]:t[s],w[s]=d&&"function"!=typeof _[s]?t[s]:m&&f?i(l,o):v&&_[s]==l?function(e){var n=function(n,t,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,o)}return e.apply(this,arguments)};return n[a]=e[a],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((w.virtual||(w.virtual={}))[s]=l,e&c.R&&g&&!g[s]&&u(g,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,n,t){var o=t(17);e.exports=function(e,n,t){if(o(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,o){return e.call(n,t,o)};case 3:return function(t,o,r){return e.call(n,t,o,r)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n,t){var o=t(19),r=t(27);e.exports=t(23)?function(e,n,t){return o.f(e,n,r(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var o=t(20),r=t(22),i=t(26),u=Object.defineProperty;n.f=t(23)?Object.defineProperty:function(e,n,t){if(o(e),n=i(n,!0),o(t),r)try{return u(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var o=t(21);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(23)&&!t(24)(function(){return 7!=Object.defineProperty(t(25)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=!t(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){var o=t(21),r=t(14).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,n,t){var o=t(21);e.exports=function(e,n){if(!o(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!o(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){"use strict";var o=t(29),r=t(44),i=t(45),u=t(46),a=t(33),c=Object.assign;e.exports=!c||t(24)(function(){var e={},n={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach(function(e){n[e]=e}),7!=c({},e)[t]||Object.keys(c({},n)).join("")!=o})?function(e,n){for(var t=u(e),c=arguments.length,s=1,f=r.f,l=i.f;c>s;)for(var p,d=a(arguments[s++]),h=f?o(d).concat(f(d)):o(d),y=h.length,m=0;y>m;)l.call(d,p=h[m++])&&(t[p]=d[p]);return t}:c},function(e,n,t){var o=t(30),r=t(43);e.exports=Object.keys||function(e){return o(e,r)}},function(e,n,t){var o=t(31),r=t(32),i=t(36)(!1),u=t(40)("IE_PROTO");e.exports=function(e,n){var t,a=r(e),c=0,s=[];for(t in a)t!=u&&o(a,t)&&s.push(t);for(;n.length>c;)o(a,t=n[c++])&&(~i(s,t)||s.push(t));return s}},function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,n,t){var o=t(33),r=t(35);e.exports=function(e){return o(r(e))}},function(e,n,t){var o=t(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n,t){var o=t(32),r=t(37),i=t(39);e.exports=function(e){return function(n,t,u){var a,c=o(n),s=r(c.length),f=i(u,s);if(e&&t!=t){for(;s>f;)if(a=c[f++],a!=a)return!0}else for(;s>f;f++)if((e||f in c)&&c[f]===t)return e||f||0;return!e&&-1}}},function(e,n,t){var o=t(38),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,n){var t=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:t)(e)}},function(e,n,t){var o=t(38),r=Math.max,i=Math.min;e.exports=function(e,n){return e=o(e),e<0?r(e+n,0):i(e,n)}},function(e,n,t){var o=t(41)("keys"),r=t(42);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,n,t){var o=t(14),r="__core-js_shared__",i=o[r]||(o[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,n){var t=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+o).toString(36))}},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){var o=t(35);e.exports=function(e){return Object(o(e))}},function(e,n){"use strict";function t(e){var n=window.AlipayJSBridge;"undefined"!=typeof n?e(null,n):document.addEventListener("AlipayJSBridgeReady",function(n){e(null,n)})}Object.defineProperty(n,"__esModule",{value:!0}),n.alipayReady=t},function(e,n,t){"use strict";function o(){function e(e){s.forEach(function(n){n(e,window.mqq)})}a.isMqq&&i(function(n){n?e(n):(f=!0,e(null))})}function r(e){f?e(null,window.mqq):s.push(e)}function i(e){void 0===window.mqq?(0,u.loadScript)(c,e):e()}Object.defineProperty(n,"__esModule",{value:!0}),n.mqqReady=r;var u=t(5),a=t(3),c="//open.mobile.qq.com/sdk/qqapi.js",s=[],f=!1;o()},function(e,n,t){"use strict";function o(e){e.wx=function(e){return!!u.isWechat&&(0===arguments.length||void(0,r.wechatReady)(function(n,t){n?e(n):e(null,t)}))},e.alipay=function(e){return!!u.isAlipay&&(0===arguments.length||void(0,i.alipayReady)(function(n,t){n?e(n):e(null,t)}))}}Object.defineProperty(n,"__esModule",{value:!0}),n.exposeApi=o;var r=t(8),i=t(47),u=t(3)}])});